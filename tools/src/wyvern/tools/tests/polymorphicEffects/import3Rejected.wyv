//This is translation for Fig.13 in the paper
import polymorphicEffects.File
import polymorphicEffects.Go
import lifted polymorphicEffects.import3Lib

type UnitFnWithoutEffect
    def app() : {} Unit

val g : Go [{system.FFIWrite}] = new
    // x should be a function without effect
    def go (x : Unit -> {} Unit) : {} Unit
        x()

val file1 : File[{system.FFIWrite}] = new
    effect write = {system.FFIWrite}
    def writeToFile() : {this.write} Unit
        unit

val lib1 = import3Lib[{}](file1, g)

"abc"
